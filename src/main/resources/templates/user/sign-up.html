<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1">
    <title>회원가입</title>
  <link rel="stylesheet" href="/css/common.css">
  <link rel="stylesheet" href="/css/content.css">
  <script src="http://code.jquery.com/jquery-latest.js"></script>
</head>
<body>
  <div class="container">
    <div class="content sign-up">
      <div class="sign-up-box">
        <div class="sign-up-box-img-box">
          <a href="/index"><img src="/img/okky-logo.png" alt="logo-img"></a>
        </div>

        <div class="sign-up-welcome-box">
          <h2>OKKY에 오신것을 환영합니다.</h2>
        </div>

        <div class="sign-up-welcome-sub-box">
          <p>OKKY는 소프트웨어 개발자를 위한 지식공유 플랫폼 입니다.</p>
        </div>

        <div class="sign-up-welcome-sns-box">
          <div class="sign-up-welcome-sns-box-label-box">
            <label>SNS 회원가입</label>
          </div>
          <div class="sign-up-welcome-sns-box-many-box">
              <span class="google-icon"></span>
          </div>
        </div>
        <div class="sign-up-information-message-box">
          <span>회원가입에 필요한 기본정보를 입력해주세요.</span>
        </div>
        <div class="sign-up-form-box">
          <div class="sign-up-form-label-box">
            <label>아이디</label>
          </div>
          <div class="sign-up-form-input-box">
            <input type="text" id="userId" placeholder="4~15이내로 입력해 주세요" maxlength="15">
          </div>
          <div class="sign-up-form-label-box">
            <label>비밀번호</label>
          </div>
          <div class="sign-up-form-input-box">
            <input type="password" id="userPw" placeholder="최소 6자 이상(알파벳 필수)">
          </div>
          <div class="sign-up-form-label-box">
            <label>이메일</label>
          </div>
          <div class="sign-up-form-input-box">
            <input type="text" id="userMail" placeholder="xxx0011@okky.kr">
          </div>
          <div class="sign-up-form-label-box">
            <label>실명</label>
          </div>
          <div class="sign-up-form-input-box">
            <input type="text" id="userNm" placeholder="홍길동">
          </div>
          <div class="sign-up-form-label-box">
            <label>닉네임</label>
          </div>
          <div class="sign-up-form-input-box">
            <input type="text" id="userNickname" placeholder="알파벳,한글,숫자를 20자 이하로 입력해주세요." maxlength="20">
          </div>
        </div>

        <div class="sign-up-email-reception-box">
          <div class="sign-up-email-reception-check-box">
            <span>이메일 수신동의</span>
            <div class="wrapper">
              <input type="checkbox" id="switch">
              <label for="switch" class="switch_label">
                <span class="onf_btn"></span>
              </label>
            </div>
          </div>
          <div class="sign-up-email-reception-message-box">
            <p>OKKY에서 주최하는 다양한 이벤트, 정보성 뉴스레터 및 광고 수신여부를 설정할 수 있습니다.</p>
          </div>
        </div>

        <div class="sign-up-button-box">
          <button type="button" id="sign-button">회원가입</button>
        </div>

        <div class="sign-up-already-login-message">
          <p>이미 회원이신가요? <a href="">로그인</a></p>
        </div>

      </div>
    </div>
  </div>
<script>
  document.addEventListener("DOMContentLoaded", function(){
    const signButton = document.querySelector('#sign-button');

    signButton.addEventListener('click', function(event){
      let param = {};

      param.userId = document.querySelector('#userId').value;
      param.userPw = document.querySelector('#userPw').value;
      param.userMail = document.querySelector('#userMail').value;
      param.userNm = document.querySelector('#userNm').value;
      param.userNickname = document.querySelector('#userNickname').value;


      $.ajax({
        url: '/user/join',
        type: 'POST',
        data: JSON.stringify(param),
        contentType: 'application/json',
        success: function(result, status, xhr) {
          alert("성공 = " + result + " , 상태 = " + status);
        },
        error: function(xhr, status, error) {
          alert("에러 상태 = " + status + ", error = " + error);
        }
      })
    });
  });

</script>
</body>
</html>